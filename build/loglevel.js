/*
 * loglevel - https://github.com/pimterry/loglevel
 *
 * Copyright (c) 2013 Tim Perry
 * Licensed under the MIT license.
 */

(function(e){var t="undefined";(function(e,t){typeof module!="undefined"?module.exports=t():typeof define=="function"&&typeof define.amd=="object"?define(t):this[e]=t()})("log",function(){function i(n){return typeof console===t?r:console[n]===e?console.log!==e?s(console,"log"):r:s(console,n)}function s(t,n){var r=t[n];if(r.bind!==e)return t[n].bind(t);if(Function.prototype.bind===e)return o(r,t);try{return Function.prototype.bind.call(t[n],t)}catch(i){return o(r,t)}}function o(e,t){return function(){Function.prototype.apply.apply(e,[t,arguments])}}function a(e){for(var t=0;t<u.length;t++)n[u[t]]=e(u[t])}function f(){return typeof window!==t&&window.document!==e&&window.document.cookie!==e}function l(){try{return typeof window!==t&&window.localStorage!==e}catch(n){return!1}}function c(e){var t;for(var r in n.levels)if(n.levels.hasOwnProperty(r)&&n.levels[r]===e){t=r;break}if(l())window.localStorage.loglevel=t;else{if(!f())return;window.document.cookie="loglevel="+t+";"}}function p(){var e;l()&&(e=window.localStorage.loglevel);if(!e&&f()){var t=h.exec(window.document.cookie)||[];e=t[1]}n.setLevel(n.levels[e]||n.levels.WARN)}var n={},r=function(){},u=["trace","debug","info","warn","error"],h=/loglevel=([^;]+)/;return n.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},n.setLevel=function(s){if(typeof s=="number"&&s>=0&&s<=n.levels.SILENT){c(s);if(s===n.levels.SILENT){a(function(){return r});return}if(typeof console===t)return a(function(e){return function(){typeof console!==t&&(n.setLevel(s),n[e].apply(n,arguments))}}),"No console available for logging";a(function(e){return s<=n.levels[e.toUpperCase()]?i(e):r})}else{if(typeof s!="string"||n.levels[s.toUpperCase()]===e)throw"log.setLevel() called with invalid level: "+s;n.setLevel(n.levels[s.toUpperCase()])}},n.enableAll=function(){n.setLevel(n.levels.TRACE)},n.disableAll=function(){n.setLevel(n.levels.SILENT)},p(),n})})();