(function(){define([],function(){var e;return e={},e.create=function(){var e;return e=[],e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.invert=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d;return n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],u=t[5],a=t[6],f=t[7],l=t[8],c=l*o-u*f,h=-l*s+u*a,p=f*s-o*a,d=n*c+r*h+i*p,d===0?(Hal.log.debug("oh god no"),null):(d=1/d,e[0]=c*d,e[1]=(-l*r+i*f)*d,e[2]=(u*r-i*o)*d,e[3]=h*d,e[4]=(l*n-i*a)*d,e[5]=(-u*n+i*s)*d,e[6]=p*d,e[7]=(-f*n+r*a)*d,e[8]=(o*n-r*s)*d,e)},e.translate=function(e,t){var n;return n=[],n[0]=1,n[1]=0,n[2]=e,n[3]=0,n[4]=1,n[5]=t,n[6]=0,n[7]=0,n[8]=1,n},e.scale=function(e,t){var n;return e==null&&(e=1),t==null&&(t=1),n=[],n[0]=e,n[1]=0,n[2]=0,n[3]=0,n[4]=t,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},e.rotate=function(e,t,n){var r;return t==null&&(t=0),n==null&&(n=0),r=[],r[0]=Math.cos(e),r[1]=-Math.sin(e),r[2]=t,r[3]=Math.sin(e),r[4]=Math.cos(e),r[5]=n,r[6]=0,r[7]=0,r[8]=1,r},e.transpose=function(e,t){var n,r,i;return e===t?(n=t[1],r=t[2],i=t[5],e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i):(e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8]),e},e.mul=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;return w=[],n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],a=e[6],f=e[7],l=e[8],c=t[0],h=t[1],p=t[2],d=t[3],v=t[4],m=t[5],g=t[6],y=t[7],b=t[8],w[0]=c*n+h*s+p*a,w[1]=c*r+h*o+p*f,w[2]=c*i+h*u+p*l,w[3]=d*n+v*s+m*a,w[4]=d*r+v*o+m*f,w[5]=d*i+v*u+m*l,w[6]=g*n+y*s+b*a,w[7]=g*r+y*o+b*f,w[8]=g*i+y*u+b*l,w},window.Matrix3=e,e})}).call(this);