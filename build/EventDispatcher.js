(function(){define([],function(){var e;return e=function(){function e(){this.listeners=[]}return e}(),e.prototype.on=function(e,t){var n,r,i,s;if(e instanceof Array)for(i=0,s=e.length;i<s;i++)r=e[i],this.listeners[r]==null&&(this.listeners[r]=[]),this.listeners[r].push(t);else this.listeners[e]==null&&(this.listeners[e]=[]),this.listeners[e].push(t),n=this.listeners[e].indexOf(t);return t},e.prototype.remove=function(e,t){var n;if(this.listeners[e]!=null)return n=this.listeners[e].indexOf(t),n!==-1&&this.listeners[e].splice(n,1),t=null},e.prototype.removeAll=function(e){var t,n,r,i,s,o;if(e)return delete this.listeners[e];n=Object.keys(this.listeners),o=[];for(i=0,s=n.length;i<s;i++)t=n[i],o.push(function(){var e,n,i,s;i=this.listeners[t],s=[];for(e=0,n=i.length;e<n;e++)r=i[e],s.push(this.remove(t,r));return s}.call(this));return o},e.prototype.trigger=function(e,t,n){var r,i,s,o,u;n==null&&(n=this);if(!this.listeners[e])return;o=this.listeners[e],u=[];for(i=0,s=o.length;i<s;i++)r=o[i],r!=null?u.push(r.call(n,t,r)):u.push(void 0);return u},e})}).call(this);